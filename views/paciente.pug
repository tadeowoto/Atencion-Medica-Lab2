extends layout 
    
block content
     body(class="bg-primaryForeground min-h-screen h-screen w-full flex flex-col gap-12 font-sans")
        div(class="w-full h-12 mt-5")
            h1(class="text-3xl text-thirdFont font-semibold text-center") Atención Médica - Perfil del Paciente 
        section(class="w-full flex justify-center gap-5 h-full")
            div(class="w-1/4 h-5/6 bg-white rounded-lg shadow-md p-10 box-border flex flex-col ")
                h3(class="text-xl font-semibold text-center mb-2") #{nombre.nombre}
                div(class=" max-h-full w-full flex flex-col items-center justify-center gap-12")
                    article(class="w-full h-24 overflow-y-auto")
                        div(class="flex gap-1")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-triangle-alert mr-2 h-5 w-5 text-yellow-500" data-id="12"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg>
                            p(class="text-md font-semibold") Alergias 
                        ul(class="w-full")
                            if (alergias)
                                each alergia in alergias
                                    li(class="w-full h-7 bg-yellow-100 p-1 box-border text-center rounded-md text-sm mt-2 mb-2 text-secondaryFont") #{alergia.nombre} - Importancia: #{alergia.importancia}
                            else
                                p(class="mt-2 ml-8 text-md text-secondaryFont") Este paciente no tiene alergias          
                    article(class="w-full h-24 overflow-y-auto")
                        div(class="flex gap-1")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-activity mr-2 h-5 w-5 text-blue-500" data-id="17"><path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"></path></svg>
                            p(class="text-md font-semibold") Antecedentes Patológicos 
                        ul(class="w-full")
                            if (antecedentes)
                                each antecedente in antecedentes
                                    li(class="w-full h-7 bg-blue-100 p-1 box-border text-center rounded-md text-sm mt-2 mb-2 text-secondaryFont") #{antecedente.antecedente}
                            else
                                p(class="mt-2 ml-8 text-md text-secondaryFont") Este paciente no tiene antecedentes
                    article(class="w-full h-24 overflow-y-auto")
                        div(class="flex gap-1")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cigarette mr-2 h-5 w-5 text-green-500" data-id="22"><path d="M18 12H2v4h16"></path><path d="M22 12v4"></path><path d="M7 12v4"></path><path d="M18 8c0-2.5-2-2.5-2-5"></path><path d="M22 8c0-2.5-2-2.5-2-5"></path></svg>
                            p(class="text-md font-semibold") Hábitos 
                        ul(class="")
                            if (habitos)
                                each habito in habitos
                                    li(class="w-full h-7 bg-green-100 p-1 box-border text-center rounded-md text-sm mt-2 mb-2 text-secondaryFont") #{habito.habito}
                            else
                                p(class="mt-2 ml-8 text-md text-secondaryFont") Este paciente no tiene hábitos  
                    article(class="w-full h-24 mb-10 overflow-y-auto")
                        div(class="flex gap-1")
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pill mr-2 h-5 w-5 text-red-500" data-id="27"><path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z"></path><path d="m8.5 8.5 7 7"></path></svg>
                            p(class="text-md font-semibold") Medicamentos en uso 
                        ul(class="")
                            if (medicamentos)
                                each medicamento in medicamentos
                                    li(class="w-full h-7 bg-red-100 p-1 box-border text-center rounded-md text-sm mt-2 mb-2 text-secondaryFont") #{medicamento.medicamento}
                            else
                                p(class="mt-2 ml-8 text-md text-secondaryFont") Este paciente no tiene medicamentos recetados    
            div(class="w-1/4 h-5/6 bg-white rounded-lg shadow-md p-10 box-border flex flex-col gap-6 ") 
                div(class="w-full h-3 flex gap-1 items-center justify-start ")
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-history mr-2 h-6 w-6 text-primary" data-id="44"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path><path d="M12 7v5l4 2"></path></svg>
                    h3(class="text-xl font-semibold text-center") Historial General
                div(class="w-full h-full overflow-auto ")
                    if (historialPacienteGeneral)
                        each h in historialPacienteGeneral
                            div(class="w-full h-52 rounded-md mb-5 border-2 border-gray-200 p-4 box-border")
                                div(class="w-full h-1/2 flex flex-col gap-6")
                                    div(class="w-full h-3 flex flex-col ")
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar mr-2 h-5 w-5 text-gray-500" data-id="51"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg>
                                        p(class="text-md font-semibold") #{h.fecha}
                                        div(class="w-full h-3 flex")
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text mr-2 h-4 w-4 text-gray-500" data-id="53"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>
                                            p(class="text-xs text-secondaryFont") #{h.motivo}  
                                    div
                                div(class="w-full h-1/2 flex flex-col gap-4")
                                    div(class="w-full h-2 flex items-center justify-start")
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user mr-2 h-4 w-4 text-gray-500" data-id="56"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                                        p(class="text-sm font-semibold mr-1") Médico tratante: 
                                        p(class="text-sm") #{h.nombre}  
                                    div(class="w-full h-1/2 flex items-center justify-start")
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list mr-2 h-4 w-4 text-gray-500" data-id="59"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg>
                                        div(class="w-full flex flex-col h-16 overflow-y-auto")
                                            p(class="text-sm font-semibold mr-1") Diagnostico:
                                            ul(class="list-disc") 
                                                if h.diagnosticos.length
                                                    each d in h.diagnosticos 
                                                        li(class="text-sm") #{d.detalle} - #{d.estado}
                                                else 
                                                    p(class="text-sm") No hay diagnósticos.
                    else 
                        p                                        


            div(class="w-1/4 h-5/6 bg-white rounded-lg shadow-md p-10 box-border flex flex-col ")
                div(class="w-full h-3 flex gap-1 items-center justify-start ")
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-stethoscope mr-2 h-6 w-6 text-primary" data-id="67"><path d="M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3"></path><path d="M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4"></path><circle cx="20" cy="10" r="2"></circle></svg>
                    h3(class="text-xl font-semibold text-center") Historial con el Medico
                p(class="mt-4 text-sd text-secondaryFont") #{nombreDoctor}  
                div(class="w-full h-full overflow-y-auto ")
                    if (historialPacienteMedico)
                        each h, i in historialPacienteMedico
                            if (i===0)                            
                                div(class="w-full h-52 rounded-md mb-5 border-2 border-gray-200 p-4 box-border")
                                    div(class="w-full h-1/2 flex flex-col gap-6")
                                        div(class="w-full h-3 flex flex-col ")
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar mr-2 h-5 w-5 text-gray-500" data-id="51"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg>
                                            p(class="text-md font-semibold") #{h.fecha}
                                            div(class="w-full h-3 flex")
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text mr-2 h-4 w-4 text-gray-500" data-id="53"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>
                                                p(class="text-xs text-secondaryFont") #{h.motivo}  
                                        div
                                    div(class="w-full h-1/2 flex flex-col gap-4")
                                        div(class="w-full h-2 flex items-center justify-start")
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-activity mr-2 h-4 w-4 text-gray-500" data-id="62"><path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"></path></svg>
                                            div(class="w-full flex flex-col h-16 overflow-y-auto")
                                                p(class="text-sm font-semibold mr-1") Evolución: 
                                                p(class="text-sm") #{h.evolucion}  
                                        div(class="w-full h-1/2 flex items-center justify-start")
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list mr-2 h-4 w-4 text-gray-500" data-id="59"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg>
                                            div(class="w-full flex flex-col h-16 overflow-y-auto")
                                                p(class="text-sm font-semibold mr-1") Diagnostico:
                                                ul(class="list-disc") 
                                                    if h.diagnosticos.length
                                                        each d in h.diagnosticos 
                                                            li(class="text-sm") #{d.detalle} - #{d.estado}
                                                    else 
                                                        p(class="text-sm") No hay diagnósticos.
                                            a(href=`/consulta/${idDePaciente}/${idTurno}` class="inline-flex items-center justify-center text-sm font-medium transition-colors border border-input bg-transparent hover:bg-primaryForeground/5 w-20 h-7 rounded-md px-3 mt-5") <img width="24" height="24" src="https://img.icons8.com/material-rounded/24/pencil--v1.png" alt="pencil--v1"/>
                            else 
                                div(class="w-full h-52 rounded-md mb-5 border-2 border-gray-200 p-4 box-border")
                                    div(class="w-full h-1/2 flex flex-col gap-6")
                                        div(class="w-full h-3 flex flex-col ")
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar mr-2 h-5 w-5 text-gray-500" data-id="51"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg>
                                            p(class="text-md font-semibold") #{h.fecha}
                                            div(class="w-full h-3 flex")
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text mr-2 h-4 w-4 text-gray-500" data-id="53"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>
                                                p(class="text-xs text-secondaryFont") #{h.motivo}  
                                        div
                                    div(class="w-full h-1/2 flex flex-col gap-4")
                                        div(class="w-full h-2 flex items-center justify-start")
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-activity mr-2 h-4 w-4 text-gray-500" data-id="62"><path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"></path></svg>
                                            p(class="text-sm font-semibold mr-1") Evolución: 
                                            p(class="text-sm") #{h.evolucion}  
                                        div(class="w-full h-1/2 flex items-center justify-start")
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list mr-2 h-4 w-4 text-gray-500" data-id="59"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg>
                                            div(class="w-full flex flex-col h-16 overflow-y-auto")
                                                p(class="text-sm font-semibold mr-1") Diagnostico:
                                                ul(class="list-disc") 
                                                    if h.diagnosticos.length
                                                        each d in h.diagnosticos 
                                                            li(class="text-sm") #{d.detalle} - #{d.estado}
                                                    else 
                                                        p(class="text-sm") No hay diagnósticos.                                    
                    else 
                        p                                    
                         
                            